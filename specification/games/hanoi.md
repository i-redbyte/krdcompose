# –•–∞–Ω–æ–π—Å–∫–∞–∏–µ –±–∞—à–Ω–∏ –Ω–∞ Jetpack¬†Compose

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç‚Äë–ø–∞–∑–ª ¬´–•–∞–Ω–æ–π—Å–∫–∏–µ –±–∞—à–Ω–∏¬ª —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∞–≤—Ç–æ‚Äë—Ä–µ—à–∞—Ç–µ–ª–µ–º.\
–î–æ–±–∞–≤—å—Ç–µ –æ–¥–∏–Ω Composable –Ω–∞ —ç–∫—Ä–∞–Ω ‚Äî –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ª–æ–≥–∏—á–µ—Å–∫—É—é –∏–≥—Ä—É ‚úåÔ∏è.

---

## ‚öîÔ∏è¬†–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö

1. **–¶–µ–ª—å**‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Å—é —Å—Ç–æ–ø–∫—É –∫–æ–ª–µ—Ü —Å –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–µ—Ä–∂–Ω—è –Ω–∞ —Ü–µ–ª–µ–≤–æ–π.
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**\
   ‚Ä¢ –¥–≤–∏–≥–∞–µ–º **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∫–æ–ª—å—Ü–æ** –∑–∞ —Ä–∞–∑;\
   ‚Ä¢ –±–µ—Ä–µ–º **—Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω–µ–µ** –∫–æ–ª—å—Ü–æ –ª—é–±–æ–≥–æ —Å—Ç–µ—Ä–∂–Ω—è;\
   ‚Ä¢ **–±–æ–ª—å—à–µ–µ** –∫–æ–ª—å—Ü–æ –Ω–µ–ª—å–∑—è –ø–æ–ª–æ–∂–∏—Ç—å **–Ω–∞ –º–µ–Ω—å—à–µ–µ**.
3. –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Ö–æ–¥–æ–≤ –ø—Ä–∏ 3 —Å—Ç–µ—Ä–∂–Ω—è—Ö: **2****n****‚àí 1**.

---

## üëÅ¬†–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

![hanoi](/specification/games/img/hanoi.gif)

---

## üöÄ¬†–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```kotlin
@Composable
fun HanoiDemo() {
    var result by remember { mutableStateOf("") }
    var trigger by remember { mutableStateOf(0) }

    TowerOfHanoiGame(
        rods = 4,          // ‚â•‚ÄØ3
        rings = 6,         // ‚â•‚ÄØ1
        ringColors = listOf(
            Color(0xFFE57373), Color(0xFF64B5F6),
            Color(0xFFFFF176), Color(0xFF81C784)
        ),
        onVictory = { moves -> result = "–†–µ—à–µ–Ω–æ –∑–∞ $moves —Ö–æ–¥–æ–≤!" },
        autoPlayTrigger = trigger,     // 0¬†‚Äî —Ä—É—á–Ω–∞—è –∏–≥—Ä–∞
        onAutoPlayFinish = { /* ... */ }
    )

    Text(result)
    Button(onClick = { trigger++ }) { Text("–ê–≤—Ç–æ‚Äë—Ä–µ—à–µ–Ω–∏–µ") }
}
```

---

## üéõÔ∏è¬†–ü–∞—Ä–∞–º–µ—Ç—Ä—ã¬†API

| –ü–∞—Ä–∞–º–µ—Ç—Ä           | –ó–Ω–∞—á–µ–Ω–∏–µ       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|--------------------|----------------|-------------------------------------------------------------------------|
| `rods`             | `Int¬†‚â•‚ÄØ3`      | –ö–æ–ª‚Äë–≤–æ —Å—Ç–µ—Ä–∂–Ω–µ–π.                                                        |
| `rings`            | `Int¬†‚â•‚ÄØ1`      | –ö–æ–ª‚Äë–≤–æ –∫–æ–ª–µ—Ü.                                                           |
| `ringColors`       | `List<Color>`  | –ü–∞–ª–∏—Ç—Ä–∞; —Ü–≤–µ—Ç–∞ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –ø–æ –∫—Ä—É–≥—É –æ—Ç –±–æ–ª—å—à–æ–≥–æ –∫ –º–∞–ª–æ–º—É.               |
| `onVictory`        | `(Int)¬†‚Üí¬†Unit` | –í—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ –∫–æ–ª—å—Ü–∞ –Ω–∞ –ø—Ä–∞–≤–æ–º —Å—Ç–µ—Ä–∂–Ω–µ; –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–∏—Å–ª–æ —Ö–æ–¥–æ–≤. |
| `autoPlayTrigger`  | `Int`          | –£–≤–µ–ª–∏—á—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ‚Äë–∏–≥—Ä—É. `0` ‚Äî —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–∞—è.     |
| `onAutoPlayFinish` | `()¬†‚Üí¬†Unit`    | –°–æ–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ‚Äë—Ä–µ—à–µ–Ω–∏—è.                                  |

---

## ü§ñ¬†–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ‚Äë—Ä–µ—à–∞—Ç–µ–ª—å

| –°—Ç–µ—Ä–∂–Ω–µ–π      | –ê–ª–≥–æ—Ä–∏—Ç–º                                           | –•–æ–¥—ã (–æ—Ü–µ–Ω–∫–∞)                                    |
|---------------|----------------------------------------------------|--------------------------------------------------|
| **3**         | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∫—É—Ä—Å–∏—è                              | **2****n****¬†‚àí¬†1** (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)                  |
| **4¬†–∏¬†–±–æ–ª–µ–µ** | *Frame‚ÄìStewart* —Å —ç–≤—Ä–∏—Å—Ç–∏–∫–æ–π `k = n - ‚åà‚àö(2n)‚åâ + 1` | –ë–ª–∏–∑–∫–æ –∫ –º–∏–Ω–∏–º—É–º—É, –∑–∞–º–µ—Ç–Ω–æ –ª—É—á—à–µ –∂–∞–¥–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ |

–ü–æ–ª–Ω—ã–π –æ–ø—Ç–∏–º—É–º –¥–ª—è ‚â• 4 —Å—Ç–µ—Ä–∂–Ω–µ–π –≤—ã—á–∏—Å–ª—è—Ç—å –¥–æ—Ä–æ–≥–æ; —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –¥–∞—ë—Ç –ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ –¥–æ–ª–∏
–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã.

---

## üèóÔ∏è¬†–í–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```
TowerOfHanoiGame
‚îú‚îÄ‚îÄ HanoiGame              ‚Äî —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ (–º–∞—Å—Å–∏–≤—ã –±–∞—à–µ–Ω, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ö–æ–¥–æ–≤)
‚îú‚îÄ‚îÄ animateMove()          ‚Äî –∫–æ—Ä—É—Ç–∏–Ω–∞ –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–æ–ª—å—Ü–∞
‚îú‚îÄ‚îÄ CanvasRod / RingView   ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç–µ—Ä–∂–Ω–µ–π –∏ –∫–æ–ª–µ—Ü
‚îî‚îÄ‚îÄ LaunchedEffect         ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ‚Äë—Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä—É
```

- **–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫**: UI ‚Üí `HanoiGame` (State) ‚Üí recomposition.
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ø–æ–¥—ä—ë–º ‚Üí –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å ‚Üí —Å–ø—É—Å–∫ (—Ç—Ä–∏ `Animatable.animateTo`).
- **–ö–æ–¥ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –∞–≤—Ç–æ‚Äë—Ä–µ—à–∞—Ç–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç —Ç–æ—Ç –∂–µ `animateMove`, —á—Ç–æ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π
  –∫–ª–∏–∫.

---

## üé®¬†–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

- **–¶–≤–µ—Ç–∞**‚Äî –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ª—é–±—É—é –ø–∞–ª–∏—Ç—Ä—É; –æ–Ω–∞ –∑–∞–∫–æ–ª—å—Ü–æ–≤–∞–Ω–∞.
- **–ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–æ–ª–µ—Ü**‚Äî –º–µ–Ω—è–π—Ç–µ —Ñ–æ—Ä–º—É–ª—É –≤–æ `RingView`.
- **–°–∫–æ—Ä–æ—Å—Ç—å**‚Äî –ø–æ–ø—Ä–∞–≤—å—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ `tween` (200 / 400 / 200 –º—Å).

---

> **PR‚Äë—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!** –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –±–∞–≥, —É—Å–∫–æ—Ä–∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º, –¥–æ–±–∞–≤–∏–ª–∏ –±–ª–µ—Å—Ç—è—à–∫—É ‚Äî –∫–∏–¥–∞–π—Ç–µ :)

