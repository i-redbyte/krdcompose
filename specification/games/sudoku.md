# Sudoku

## –û–±–∑–æ—Ä

–≠—Ç–æ –ø—Ä–æ—Å—Ç–∞—è, –±—ã—Å—Ç—Ä–∞—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –°—É–¥–æ–∫—É –Ω–∞ Jetpack Compose. –í –æ—Å–Ω–æ–≤–µ ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
`SudokuBoard`, —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã `SudokuGameScreen`, —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ `DifficultyScreen` –∏
`SudokuViewModel`, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫ (–Ω–æ —Å –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø–æ–≤–æ—Ä–æ—Ç–æ–≤
—ç–∫—Ä–∞–Ω–∞).

- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä `SudokuGenerator` —Å–æ–∑–¥–∞—ë—Ç –≤–∞–ª–∏–¥–Ω—É—é –≥–æ–ª–æ–≤–æ–ª–æ–º–∫—É —Å **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º** –∏ —Ä–∞–∑–Ω—ã–º–∏
  —É—Ä–æ–≤–Ω—è–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
- –î–æ—Å—Ç—É–ø–Ω—ã **–∑–∞–º–µ—Ç–∫–∏ (pencil marks)** —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ü–∏—Ñ—Ä.
- –ï—Å—Ç—å —Ä–µ–∂–∏–º **—Ç–∞–π–º–µ—Ä–∞** —Å –ø–æ—Ä–∞–∂–µ–Ω–∏–µ–º –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏.
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è **–º–∏–Ω–∏–º—É–º–∞ –ª–∏—à–Ω–∏—Ö —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–π**.

---

## üëÅ¬†–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

![Sudoku](/specification/games/img/sudoku.gif)

---

## –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã

```kotlin
enum class Difficulty { EASY, NORMAL, HARD }

data class SudokuPuzzle(
    val givens: IntArray,
    val solution: IntArray,
    val difficulty: Difficulty
) {
    fun clueCount(): Int = givens.count { it != 0 }
}
```

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä

```kotlin
class SudokuGenerator(private val rng: Random = Random.Default) {
    fun generate(difficulty: Difficulty): SudokuPuzzle
    fun generateMany(difficulty: Difficulty, count: Int): List<SudokuPuzzle>
}
```

- –î–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫ (givens): EASY 38‚Äì47, NORMAL 30‚Äì37, HARD 24‚Äì29.
- –ö–∞–∂–¥–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è**.

### ViewModel

```kotlin
class SudokuViewModel : ViewModel() {
    val screenState: State<ScreenState>           // Menu | Game
    val generating: State<Boolean>                // –ò–¥—ë—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è?
    val isTimedGame: State<Boolean>               // –†–µ–∂–∏–º —Ç–∞–π–º–µ—Ä–∞?
    val timeRemaining: State<Int>                 // –û—Å—Ç–∞—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ (—Å–µ–∫)
    val board: SnapshotStateList<Int>             // –¢–µ–∫—É—â–µ–µ –ø–æ–ª–µ (0 ‚Äî –ø—É—Å—Ç–æ)
    val notesState: State<List<Set<Int>>>         // –ó–∞–º–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ (1..9)
    val isCellEditableState: State<List<Boolean>> // –†–∞–∑—Ä–µ—à–µ–Ω–∞ –ª–∏ –ø—Ä–∞–≤–∫–∞ —è—á–µ–π–∫–∏
    val selectedCell: State<Int>                  // –ò–Ω–¥–µ–∫—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π —è—á–µ–π–∫–∏ (0..80 / -1)
    val noteMode: State<Boolean>                  // –†–µ–∂–∏–º –∑–∞–º–µ—Ç–æ–∫
    val gameStatus: State<GameStatus>             // Playing | Won | Lost
    val currentDifficulty: Difficulty

    fun startGame(difficulty: Difficulty, timed: Boolean)
    fun selectCell(index: Int)
    fun inputNumber(number: Int)
    fun erase()
    fun useHint()
    fun toggleNoteMode()
    fun exitToMenu()
}
```

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ó–∞–º–µ—Ç–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ `Set<Int>`. –ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è **–Ω–æ–≤–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ** (
  `_notes[i] = old + x` –∏–ª–∏ `old - x`), —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é.
- –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–∏—Å–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—è—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–º–µ—Ç–∫–∏ –≤ —Å—Ç—Ä–æ–∫–µ, —Å—Ç–æ–ª–±—Ü–µ –∏ –±–ª–æ–∫–µ 3√ó3.

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

### –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```kotlin
@Composable
fun DifficultyScreen(onStartGame: (Difficulty, Boolean) -> Unit)
```

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä.
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —à–∏—Ä–∏–Ω–µ `widthIn(max = 420.dp)` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  `Card + Divider` –¥–ª—è –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

### –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã

```kotlin
@Composable
fun SudokuGameScreen(viewModel: SudokuViewModel)
```

–°–æ—Å—Ç–∞–≤:

- –¢–∞–π–º–µ—Ä (–µ—Å–ª–∏ —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω).
- `SudokuBoard`.
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è `SudokuControls` (—Ü–∏—Ñ—Ä—ã 1‚Äì9, ¬´–ó–∞–º–µ—Ç–∫–∏¬ª, ¬´–°—Ç–µ—Ä–µ—Ç—å¬ª, ¬´–ü–æ–¥—Å–∫–∞–∑–∫–∞¬ª).
- –î–∏–∞–ª–æ–≥ –ø–æ–±–µ–¥—ã/–ø–æ—Ä–∞–∂–µ–Ω–∏—è —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ ¬´–ù–æ–≤–∞—è –∏–≥—Ä–∞¬ª –∏ ¬´–í—ã–π—Ç–∏¬ª.

### –ò–≥—Ä–æ–≤–∞—è –¥–æ—Å–∫–∞

```kotlin
@Composable
fun SudokuBoard(
    board: List<Int>,                // 81 –∑–Ω–∞—á–µ–Ω–∏–µ; 0 ‚Äî –ø—É—Å—Ç–æ
    notes: List<Set<Int>>,           // 81 –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–º–µ—Ç–æ–∫ (1..9)
    selectedIndex: Int,              // –∏–Ω–¥–µ–∫—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–∏ (-1, –µ—Å–ª–∏ –Ω–µ—Ç)
    isCellEditable: List<Boolean>,   // 81 —Ñ–ª–∞–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    numberColors: List<Color>,       // 9 —Ü–≤–µ—Ç–æ–≤ –¥–ª—è —Ü–∏—Ñ—Ä 1..9 (–∏–Ω–¥–µ–∫—Å = digit-1)
    backgroundColor: Color,          // —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –ø–æ–ª—è
    gridLineColor: Color,            // —Ü–≤–µ—Ç –ª–∏–Ω–∏–π —Å–µ—Ç–∫–∏
    onCellClick: (Int) -> Unit       // –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∫–ª–µ—Ç–∫–∏
)
```

–ü–æ–≤–µ–¥–µ–Ω–∏–µ:

- –¢–∞–ø –ø–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–π –∫–ª–µ—Ç–∫–µ –≤—ã–±–∏—Ä–∞–µ—Ç/—Å–Ω–∏–º–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ.
- –†–∏—Å–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∫–∏ –∏ –∂–∏—Ä–Ω—ã—Ö –ª–∏–Ω–∏–π –±–ª–æ–∫–æ–≤ 3√ó3 ‚Äî —á–µ—Ä–µ–∑ `Canvas`.
- –ö–æ–Ω—Ç–µ–Ω—Ç —è—á–µ–π–∫–∏ –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `AnimatedContent` —Å —Ç—Ä–µ–º—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏: –ø—É—Å—Ç–æ, —á–∏—Å–ª–æ, –∑–∞–º–µ—Ç–∫–∏.
- –ó–∞–º–µ—Ç–∫–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É –º–∏–Ω–∏-–∫–ª–µ—Ç–æ–∫ 3√ó3 —Å –ø–æ–º–æ—â—å—é `Canvas` –∏ –º–µ—Ç—Ä–∏–∫ —à—Ä–∏—Ñ—Ç–∞: –∫–∞–∂–¥–∞—è
  –º–∏–Ω–∏-—Ü–∏—Ñ—Ä–∞ ‚Äî –≤ —Ç–æ—á–Ω–æ–º —Ü–µ–Ω—Ç—Ä–µ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏, –±–µ–∑ —Å–º–µ—â–µ–Ω–∏–π.

–ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```kotlin
SudokuBoard(
    board = viewModel.board,
    notes = viewModel.notesState.value,
    selectedIndex = viewModel.selectedCell.value,
    isCellEditable = viewModel.isCellEditableState.value,
    numberColors = listOf(
        Color(0xFF1976D2), Color(0xFF388E3C), Color(0xFFF57C00),
        Color(0xFF7B1FA2), Color(0xFFFBC02D), Color(0xFFE64A19),
        Color(0xFF0097A7), Color(0xFFD32F2F), Color(0xFF303F9F)
    ),
    backgroundColor = Color.White,
    gridLineColor = Color.Black,
    onCellClick = { index -> viewModel.selectCell(index) }
)
```

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```kotlin
@Composable
fun SudokuControls(
    onNumberClick: (Int) -> Unit,
    onDelete: () -> Unit,
    onHint: () -> Unit,
    onToggleNote: () -> Unit,
    noteMode: Boolean
)
```

- –ö–Ω–æ–ø–∫–∏ 1‚Äì9 ‚Äî –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ, —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ 8.dp, —Ç—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω, —Ü–∏—Ñ—Ä—ã –ø–æ —Ü–µ–Ω—Ç—Ä—É.
- –ö–Ω–æ–ø–∫–∏ ¬´–ó–∞–º–µ—Ç–∫–∏¬ª, ¬´–°—Ç–µ—Ä–µ—Ç—å¬ª, ¬´–ü–æ–¥—Å–∫–∞–∑–∫–∞¬ª ‚Äî –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, —Ç—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–µ, –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –≤—ã—Å–æ—Ç—ã.

---

## –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—É–¥–æ–∫—É

- –ü–æ–ª–µ 9√ó9 –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ü–∏—Ñ—Ä–∞–º–∏ 1‚Äì9.
- –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ —Ü–∏—Ñ—Ä—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è.
- –í –∫–∞–∂–¥–æ–º —Å—Ç–æ–ª–±—Ü–µ —Ü–∏—Ñ—Ä—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è.
- –í –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ 3√ó3 —Ü–∏—Ñ—Ä—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è.
- –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã (givens) –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å.

### –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –í—ã–±–æ—Ä –∫–ª–µ—Ç–∫–∏: —Ç–∞–ø –ø–æ –ø—É—Å—Ç–æ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–π –∫–ª–µ—Ç–∫–µ.
- –†–µ–∂–∏–º ¬´–ó–∞–º–µ—Ç–∫–∏¬ª: –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞–∂–∞—Ç–∏—è 1‚Äì9 –¥–æ–±–∞–≤–ª—è—é—Ç/—É–±–∏—Ä–∞—é—Ç –º–∏–Ω–∏-—Ü–∏—Ñ—Ä—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø—É—Å—Ç–æ–π –∫–ª–µ—Ç–∫–µ.
  –≠—Ç–æ –≤–∞—à–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –æ–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É.
- –†–µ–∂–∏–º –æ–±—ã—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞: –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–∫–∞—Ö –∫–Ω–æ–ø–∫–∏ 1‚Äì9 –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —á–∏—Å–ª–æ –≤ –∫–ª–µ—Ç–∫—É.
- ¬´–°—Ç–µ—Ä–µ—Ç—å¬ª: –æ—á–∏—â–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–ª–µ—Ç–∫—É –∏ –µ—ë –∑–∞–º–µ—Ç–∫–∏.
- ¬´–ü–æ–¥—Å–∫–∞–∑–∫–∞¬ª: –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —á–∏—Å–ª–æ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –ø—É—Å—Ç—É—é –∫–ª–µ—Ç–∫—É (–∏–ª–∏ –ø–µ—Ä–≤—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –ø—É—Å—Ç—É—é) –∏
  –¥–µ–ª–∞–µ—Ç –µ—ë –Ω–µ—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–π.
- –ü–æ–±–µ–¥–∞: –∫–æ–≥–¥–∞ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º.
- –ü–æ—Ä–∞–∂–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Ç–∞–π–º–µ—Ä–µ, –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏.
- –¢–∞–π–º–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: EASY ‚Äî 10 –º–∏–Ω, NORMAL ‚Äî 15 –º–∏–Ω, HARD ‚Äî 20 –º–∏–Ω.

---

## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

- –ö–ª–µ—Ç–∫–∏ –Ω—É–º–µ—Ä—É—é—Ç—Å—è –æ—Ç 0 –¥–æ 80 —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.
- `row = index / 9`, `col = index % 9`.
- –ë–ª–æ–∫ 3√ó3: –≤–µ—Ä—Ö–Ω–∏–π-–ª–µ–≤—ã–π –∏–Ω–¥–µ–∫—Å –±–ª–æ–∫–∞ –¥–ª—è –∫–ª–µ—Ç–∫–∏ `(row, col)` ‚Äî `((row/3)*3, (col/3)*3)`.

---

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–∏–¥–∞

- `numberColors: List<Color>` ‚Äî —Ü–≤–µ—Ç–∞ –¥–ª—è —Ü–∏—Ñ—Ä 1..9. –ò–Ω–¥–µ–∫—Å ‚Äî `digit-1`.
- `backgroundColor` ‚Äî —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –ø–æ–ª—è (–∑–∞ —è—á–µ–π–∫–∞–º–∏).
- `gridLineColor` ‚Äî —Ü–≤–µ—Ç –ª–∏–Ω–∏–π —Å–µ—Ç–∫–∏.
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–∏ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ —Ñ–æ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —è—á–µ–π–∫–∏ (—Å–º. `cellBg`).

–ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ —Å—Ç–∏–ª—è–º:

- –î–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏: –æ—Å–Ω–æ–≤–Ω–æ–µ —á–∏—Å–ª–æ ‚Äî 18‚Äì22 sp, –∑–∞–º–µ—Ç–∫–∏ ‚Äî 9‚Äì11 sp.
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç—ã: —á–∏—Å–ª–∞ –≥–∏–≤–µ–Ω–æ–≤ ‚Äî –ø–æ–ª—É–∂–∏—Ä–Ω—ã–µ; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ ‚Äî –æ–±—ã—á–Ω—ã–µ.

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–±–∏—Ç–æ –ø–æ —Å–ø–∏—Å–∫–∞–º `mutableStateListOf`: `board`, `notes`, `isCellEditable`.
- –î–ª—è –∑–∞–º–µ—Ç–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–∞: –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
  –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π `Set`**, —á—Ç–æ –¥–∞—ë—Ç —Ç–æ—á–µ—á–Ω—ã–µ —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —è—á–µ–µ–∫.
- –í `LazyVerticalGrid` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ `key = { idx, _ -> idx }`.
- –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —è—á–µ–µ–∫ ‚Äî —á–µ—Ä–µ–∑ `AnimatedContent`, –Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤
  –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (–±–µ–∑ –ª–∏—à–Ω–µ–≥–æ `remember`), —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏.
- –¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `viewModelScope`, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–±–µ–¥–µ/–ø–æ—Ä–∞–∂–µ–Ω–∏–∏.

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –≤–Ω—É—Ç—Ä–∏ `@Composable` –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä ‚Äî —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ `State` –∏–∑ VM.
- –ò–∑–±–µ–≥–∞–π—Ç–µ –º—É—Ç–∞—Ü–∏–π –∫–æ–ª–ª–µ–∫—Ü–∏–π –∑–∞–º–µ—Ç–æ–∫ –Ω–∞ –º–µ—Å—Ç–µ ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–π—Ç–µ –Ω–æ–≤–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ.

---

## –ü—Ä–∏–º–µ—Ä –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```kotlin
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            MaterialTheme {
                val vm: SudokuViewModel = viewModel()
                when (vm.screenState.value) {
                    ScreenState.Menu -> DifficultyScreen { diff, timed ->
                        vm.startGame(
                            diff,
                            timed
                        )
                    }
                    ScreenState.Game -> SudokuGameScreen(vm)
                }
            }
        }
    }
}
```
